<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ăn là thích</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/main.css"> 
    <link rel="stylesheet" href="./assets/css/home.css"> 
    <link rel="stylesheet" href="./assets//fonts/fontawesome-free-6.4.0-web/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="grid">
                <div class="grid__row">
                    <div class="grid__column-1">
                        <a href="" class="header__logo-link">
                            <img src="https://monngonmoingay.com/wp-content/uploads/2020/10/logo-aji-copy-3.png.webp" alt="" class="header__logo-img">
                        </a>
                    </div>
                    <div class="grid__column-1">
                        <a href="" class="header__logo-link">
                            <img src="https://monngonmoingay.com/wp-content/uploads/2020/10/logo-mnmn.png.webp" alt="" class="header__logo-img">
                        </a>
                    </div>
                    <div class="grid__column-1">
                        <a href="" class="header__logo-link">
                            <img src="	https://monngonmoingay.com/wp-content/uploads/2022/07/nau-chuan-an-lanh-mnmn.png" alt="" class="header__logo-img">
                        </a>
                    </div>
                    <div class="grid__column-9">
                        <div class="header__top">
                            <span class="login">Đăng Nhập</span>
                            <span class="seperate">|</span>
                            <span class="register">
                                <span href="" class="register-link">Đăng Ký</span>
                            </span>
                        </div>
                        <nav class="header__navbar">
                            <ul class="header__navbar-list">
                                <li class="header__navbar-item">
                                    <a href="./home.html" class="header__navbar-item-link">
                                        Danh Mục Thực Đơn
                                    </a>
                                </li>
                                <li class="header__navbar-item">
                                    <a href="" class="header__navbar-item-link">
                                        Kế Hoạch Nấu Ăn
                                    </a>
                                </li>
                                <li class="header__navbar-item">
                                    <a href="" class="header__navbar-item-link">
                                        Gia Vị Bạn Cần
                                    </a>
                                </li>
                                <li class="header__navbar-item header__navbar-item-4">
                                    <a href="" class="header__navbar-item-link">
                                        Công Thức Yêu Thích
                                    </a>
                                    <!-- <div class="header__navbar-info">
                                        <ul class="header__navbar-info-list">
                                            <li class="header__navbar-info-item">
                                                <a href="" class="header__navbar-info-link">
                                                    Thông tin dinh dưỡng
                                                </a>
                                            </li>
                                            <li class="header__navbar-info-item">
                                                <a href="" class="header__navbar-info-link">
                                                    Mách nhỏ
                                                </a>
                                            </li>
                                            <li class="header__navbar-info-item">
                                                <a href="" class="header__navbar-info-link1">
                                                    Hỏi đáp
                                                </a>
                                            </li>
                                        </ul>
                                    </div> -->
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <!-- search -->
        <div class="search">
            <div class="grid blocksearch">
                <div class="grid__row">
                    <div class="grid__column-2"></div>
                    <div class="grid__column-8">
                        <div class="grid__row">
                            <div class="grid__column-9">
                                <h4 class="search__title">Tìm kiếm công thức, nguyên liệu, cách nấu, dịp nấu,...</h4>
                            </div>
                            <div class="grid__column-3">
                            </div>
                        </div>
                        <div class="searchbox">
                            <div class="search__input">
                                <input type="text" id="searchInput" class="search__input-text" placeholder="Nhập tại đây..." class="placeholder-color">
                                <button id="searchButton" class="search__input-btn">
                                    <i class="search__input-btn-icon fa-solid fa-magnifying-glass"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="grid__column-2"></div>
                </div>
            </div>
        </div>
        <!-- slide favourite -->
        <div class="favourite">
            <div class="grid">
                <div class="grid__row">
                    <div class="grid__column-detailmain">
                        <div class="grid__row grid__row-magin">
                            <div class="grid__column-detailmain">
                                <div class="favourite-heading-img">
                                    <img width="94" height="25" src="	https://monngonmoingay.com/wp-content/uploads/2020/10/icon-kh-congthuc.png.webp" alt="">
                                </div>
                                <div class="favourite-heading-tittle">
                                    <h1>CÔNG THỨC YÊU THÍCH</h1>
                                    Lưu lại công thức yêu thích một cách dễ dàng, khi cần ý tưởng là bạn có ngay
                                </div>
                                <div class="fouvourite-storage">
                                    Công thức đã lưu
                                    <i class="fouvourite-storage-icon fa-regular fa-heart"></i>
                                </div>
                                <!-- favourite -->
                                
                            </div>
                        </div>
                    </div>                
                </div>
            </div>
        </div>
        <!-- footer -->
        <footer class="footer">
            <div class="grid">
                <div class="grid__row">
                    <div class="grid__column-detailmain footer__text">
                        Copyright © 2021 • Ajinomoto Vietnam • All rights reserved
                        <a class="footer__link" href="https://www.dmca.com/Protection/Status.aspx?ID=9b5c3473-968a-4049-b577-9dc6d3fda2f5&refurl=https://monngonmoingay.com/tim-kiem-mon-ngon/" target="_blank">
                            <img width="200" height="40" src="https://images.dmca.com/Badges/dmca-badge-w200-5x1-09.png?ID=9b5c3473-968a-4049-b577-9dc6d3fda2f5" alt="">
                        </a>
                    </div>
                </div>
            </div>
        </footer>      
    </div>
    <script>
        const favourites = [];
        const h1Text = document.querySelector("h1").textContent.trim();
    
        // Hàm để hiển thị danh sách món ăn yêu thích
        function displayFavorites() {
            const htmls = favourites.map(cook => `
                <div class="grid__column-3">
                    <div class="mainpage-item">
                        <div class="mainpage-item__link">
                            <a href="${cook.path}">
                                <img class="mainpage-item__img" src="${cook.image}" alt="${cook.name}">
                            </a>
                        </div>
                        <div class="mainpage-item__info">
                            <a href="${cook.path}">
                                <h3 class="mainpage-item__info-text">${cook.name}</h3>
                            </a>
                            <ul>
                                <li>
                                    <span class="mainpage-item__info-icon">${cook.ration}</span>
                                </li>
                                <li>
                                    <span class="mainpage-item__info-vote">${cook.vote}</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            `);
    
            // Thêm chuỗi HTML vào div có class "favourite-list"
            document.querySelector('.favourite-list').innerHTML = htmls.join('');
        }
    
        // Fetch the data from the JSON file
        fetch('cooks.json')
            .then(response => response.json())
            .then(data => {
                // Set the cooks array with the data
                this.cooks = data;
                // Render the data
                displayFavorites();
    
                // Tìm món ăn có tên trùng với thẻ h1 và thêm vào danh sách favorites
                const matchingMenu = this.cooks.find(item => item.name === h1Text);
    
                if (matchingMenu) {
                    // Bổ sung xử lý khi người dùng nhấp vào "yêu thích"
                    const favoriteButton = document.querySelector(".detail__note-text");
    
                    favoriteButton.addEventListener("click", function() {
                        // Kiểm tra xem món ăn đã có trong danh sách yêu thích chưa
                        const isFavorite = favourites.some(item => item.name === matchingMenu.name);
    
                        if (!isFavorite) {
                            // Nếu chưa có, thêm món ăn vào danh sách yêu thích
                            favourites.push(matchingMenu);
                            alert("Món ăn đã được thêm vào danh sách yêu thích!");
                        } else {
                            // Nếu đã có, thông báo rằng món ăn đã tồn tại trong danh sách yêu thích
                            alert("Món ăn đã tồn tại trong danh sách yêu thích!");
                        }
    
                        // Sau khi thêm món ăn vào danh sách yêu thích, hiển thị lại danh sách yêu thích
                        displayFavorites();
                    });
                }
            })
            .catch(error => {
                console.error('Error fetching data:', error);
            });
    </script>
    
    
</body>
</html>